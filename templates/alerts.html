<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Secure Notification System - Alerts</title>
    <style>
      tr[data-severity="critical"] {
    background-color: #ff4d4d !important; /* Ø£Ø­Ù…Ø± */
    color: white;
  }

  tr[data-severity="high"] {
    background-color: #ffb84d !important; /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ */
  }

  tr[data-severity="medium"] {
    background-color: #4da6ff !important; /* Ø£Ø²Ø±Ù‚ */
  }

  tr[data-severity="low"] {
    background-color: #7dff7d !important; /* Ø£Ø®Ø¶Ø± */
  }
  /* Ù†Ø¶ÙŠÙ Ø±Ù…ÙˆØ² Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ */
  /* Ù†Ø¶ÙŠÙ Ø±Ù…ÙˆØ² Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø¯Ø§Ø®Ù„ Ø¹Ù…ÙˆØ¯ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø®Ø·ÙˆØ±Ø© */
tr[data-severity="critical"] td:nth-child(4)::before {
  content: "ğŸš¨ ";
}

tr[data-severity="high"] td:nth-child(4)::before {
  content: "âš ï¸ ";
}

tr[data-severity="medium"] td:nth-child(4)::before {
  content: "ğŸ”µ ";
}

tr[data-severity="low"] td:nth-child(4)::before {
  content: "âœ… ";

  }
        table {
  width: 90%;
  margin: 20px auto;
  border-collapse: collapse;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

th {
  background-color: #2f4f4f;
  color: white;
  padding: 10px;
}

td {
  padding: 8px;
  text-align: center;
}

tr:nth-child(even) {
  background-color: #f2f2f2;
}

tr:hover {
  /* ØªØ¸Ù„ÙŠÙ„ Ø®ÙÙŠÙ ÙÙˆÙ‚ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ±Ù‡ */
  box-shadow: inset 0 0 0 9999px rgba(0,0,0,0.06);
  transition: box-shadow 0.15s ease;
}

/* Ø£Ù„ÙˆØ§Ù† Ø­Ø³Ø¨ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø®Ø·ÙˆØ±Ø© */
tr[data-severity="critical"] {
  background-color: #ffb3b3 !important;
}
tr[data-severity="high"] {
  background-color: #ffd699 !important;
}
tr[data-severity="medium"] {
  background-color: #fff0b3 !important;
}
tr[data-severity="low"] {
  background-color: #d6f5d6 !important;
}
        body { 
            font-family: Arial, sans-serif;
            background-color: #f4f6f8;
            padding: 20px;
        }
        h2 {
            text-align: center;
            color: #222;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        tr:hover {
            background-color: #f1f1f1;
        }
        .critical { background-color: #ffcccc; }
        .high { background-color: #ffe5b4; }
        .medium { background-color: #fff6b2; }
        .low { background-color: #d7ffd7; }
        .footer {
            text-align: center;
            margin-top: 15px;
            color: #555;
            font-size: 0.9em;
        }
        .footer {
  text-align: center;
  margin-top: 40px;
  padding: 10px;
  font-size: 14px;
  color: #555;
  border-top: 1px solid #ccc;
}
    </style>
</head>
<body>
 <!-- Unified Top Navbar -->
<div class="status-bar">
  <nav style="display: flex; justify-content: center; gap: 20px;">
    <a href="{{ url_for('home') }}" class="nav-link">ğŸ  Home</a>
    <a href="{{ url_for('manual_alert') }}" class="nav-link">âœï¸ Manual Alert</a>
  </nav>
</div>

<style>
.status-bar {
  background-color: #003366;
  color: white;
  padding: 10px 0;
  font-size: 15px;
  font-weight: 500;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  margin-top: 0;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1000;
}
body {
  margin: 0;
  padding-top: 55px; /* Ø¹Ù„Ø´Ø§Ù† Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù…Ø§ÙŠÙ†Ø¯ÙÙ† ØªØ­Øª Ø§Ù„Ø´Ø±ÙŠØ· */
}
.nav-link {
  color: white;
  text-decoration: none;
  padding: 6px 14px;
  border-radius: 5px;
  transition: background-color 0.25s;
}

.nav-link:hover {
  background-color: #00509e;
}

.nav-link:active {
  background-color: #00264d;
}
</style>
    <h2>Recent Security Alerts</h2>
    <p style="text-align:center; margin:10px 0;">
  <a href="/alerts/export.csv" style="text-decoration:none; padding:8px 12px; border:1px solid #333; border-radius:6px;">
    Download CSV
  </a>
  <div style="text-align:center; margin:15px 0;">
  <a href="/alerts" style="margin-right:8px;">All</a>
  <a href="/alerts?severity=low" style="color:green; margin-right:8px;">Low</a>
  <a href="/alerts?severity=medium" style="color:orange; margin-right:8px;">Medium</a>
  <a href="/alerts?severity=high" style="color:red; margin-right:8px;">High</a>
  <a href="/alerts?severity=critical" style="color:darkred;">Critical</a>
</div>
</p>
<div style="text-align:right; margin:10px 40px;">
  <form action="/alerts/delete_all" method="post" style="display:inline;">
    <button type="submit" style="background:#c82333;color:white;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;">â™»ï¸ Reset All</button>
  </form>
</div>
   <table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Source</th>
      <th>Event Type</th>
      <th>Severity</th>
      <th>Message</th>
      <th>Time</th>
      <th>Action</th>
    </tr>
  </thead>

  <tbody>
    {% for r in alerts %}
    <tr data-severity="{{ r[3]|lower }}">
      <td>{{ r[0] }}</td>
      <td>{{ r[1] }}</td>
      <td>{{ r[2] }}</td>
      <td data-severity="{{ r[3]|lower }}">{{ r[3] }}</td>
      <td>{{ r[4] }}</td>
      <td>{{ r[5] }}</td>
      <td>
        <form action="/alerts/delete/{{ r[0] }}" method="post" style="display:inline;">
          <button type="submit" style="background:#dc3545;color:white;border:none;padding:4px 8px;border-radius:4px;">ğŸ—‘</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<div class="footer">
  <p>
      Developed by <b>Yazeed S. Alqabbaa</b> Â© 2025 â€” Department of Information Security
  </p>
</div>
</body>
<body>
</html>
